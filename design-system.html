<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real Estate Design System (Complete)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script>
        tailwind.config = {
            theme: {
                fontFamily: { sans: ['Prompt', 'sans-serif'] },
                extend: {
                    colors: {
                        // 1. Primary (Navy)
                        primary: '#0F172A',
                        'on-primary': '#FFFFFF',
                        'primary-container': '#E2E8F0',
                        'on-primary-container': '#0F172A',

                        // 2. Secondary (Brand Green - used for FABs, highlights)
                        secondary: '#4CAF50', 
                        'on-secondary': '#FFFFFF',
                        'secondary-container': '#D1FAE5',
                        'on-secondary-container': '#064E3B',

                        // 3. Tertiary (Amber - used for accents/status)
                        tertiary: '#F59E0B',
                        'on-tertiary': '#FFFFFF',
                        'tertiary-container': '#FEF3C7',
                        'on-tertiary-container': '#78350F',

                        // 4. Error
                        error: '#BA1A1A',
                        'on-error': '#FFFFFF',
                        'error-container': '#FFDAD6',
                        'on-error-container': '#410002',

                        // 5. Neutral / Surface
                        surface: '#FFFFFF',
                        'on-surface': '#1F2937',
                        'surface-variant': '#F8F9FA',
                        'on-surface-variant': '#4B5563',
                        outline: '#E5E7EB',
                        'outline-variant': '#CAC4D0',

                        // Legacy / Specific Aliases
                        brand: '#4CAF50', 
                        'brand-dark': '#388E3C',
                        'tag-featured': '#4CAF50',
                        'tag-sale': '#1E293B',
                        text: { main: '#1F2937', muted: '#6B7280', price: '#4CAF50' },
                        border: '#E5E7EB',
                    },
                    borderRadius: { 'xs': '4px', 'sm': '8px', 'md': '12px', 'lg': '16px', 'xl': '24px', '2xl': '32px', 'full': '9999px' },
                    boxShadow: { 'card': '0 4px 20px rgba(0, 0, 0, 0.08)', 'icon': '0 2px 8px rgba(0, 0, 0, 0.15)' },
                    fontSize: {
                        'h1': ['48px', { lineHeight: '1.2', fontWeight: '700' }],
                        'h2': ['36px', { lineHeight: '1.25', fontWeight: '600' }],
                        'h3': ['30px', { lineHeight: '1.3', fontWeight: '600' }],
                        'h4': ['24px', { lineHeight: '1.35', fontWeight: '600' }],
                        'h5': ['20px', { lineHeight: '1.4', fontWeight: '500' }],
                        'h6': ['18px', { lineHeight: '1.45', fontWeight: '500' }],
                        'body-lg': ['18px', { lineHeight: '1.6' }],
                        'body-md': ['16px', { lineHeight: '1.6' }],
                        'body-sm': ['14px', { lineHeight: '1.5' }],
                        'price-lg': ['24px', { lineHeight: '1', fontWeight: '800' }],
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Prompt', sans-serif; background-color: #F3F4F6; }
        .card-type-tab { position: absolute; bottom: 0; left: 0; background: white; padding: 8px 24px 8px 16px; border-top-right-radius: 20px; z-index: 10; }
        .card-type-tab::before { content: ''; position: absolute; right: -20px; bottom: 0; width: 20px; height: 20px; background: transparent; box-shadow: -10px 10px 0 white; border-bottom-left-radius: 50%; }
        
        /* Code View Styles */
        .code-block {
            background-color: #1E293B;
            color: #E2E8F0;
            padding: 1.5rem;
            border-radius: 0.75rem;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.875rem;
            overflow-x: auto;
            white-space: pre-wrap;
            display: none; /* Hidden by default */
        }
        .code-block.active { display: block; }
        .preview-area.hidden { display: none; }
        
        /* Toggle Switch Style */
        .view-toggle {
            display: inline-flex;
            background: #111827; /* Dark bg */
            border-radius: 9999px;
            padding: 4px;
            position: relative;
        }
        .view-toggle button {
            padding: 6px 16px;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 500;
            transition: all 0.2s;
            color: #9CA3AF;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .view-toggle button.active {
            background: #1E40AF; /* Blue active */
            color: white;
            box-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body class="p-8 pb-32 min-h-screen">

    <div class="max-w-6xl mx-auto">
        <header class="mb-12 border-b border-gray-200 pb-6 flex justify-between items-end">
            <div>
                <h1 class="text-h1 text-primary mb-2">Design System (Complete)</h1>
                <p class="text-text-muted">Interactive Component Library with Code View</p>
            </div>
        </header>

        <!-- === PART 1: DEFINED TOKENS (UPDATED COLORS) === -->
        <section class="mb-16 bg-white p-8 rounded-xl border border-gray-200 shadow-sm">
            <h2 class="text-h3 text-primary mb-8 flex items-center gap-2">
                <i data-lucide="layers" class="w-6 h-6"></i> All Defined Tokens
            </h2>
            
            <div class="space-y-12">
                
                <!-- 1. COLORS (UPDATED: Now includes Secondary, Tertiary, Error, Surface) -->
                <div>
                    <h3 class="text-sm font-bold text-gray-400 uppercase tracking-wider mb-4 border-b pb-2">1. Colors</h3>
                    
                    <!-- Primary & Secondary (Core) -->
                    <div class="mb-8">
                        <h4 class="text-xs font-semibold text-gray-500 mb-3">Core Roles</h4>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <!-- Primary -->
                            <div class="space-y-2">
                                <div class="h-16 rounded-lg bg-primary shadow-sm flex items-center justify-center text-white text-xs">Primary</div>
                                <div class="flex justify-between text-xs text-gray-500"><span>primary</span><span>#0F172A</span></div>
                            </div>
                            <div class="space-y-2">
                                <div class="h-16 rounded-lg bg-primary-container shadow-sm border border-gray-100 flex items-center justify-center text-primary text-xs">Container</div>
                                <div class="flex justify-between text-xs text-gray-500"><span>primary-container</span><span>#E2E8F0</span></div>
                            </div>
                            
                            <!-- Secondary -->
                            <div class="space-y-2">
                                <div class="h-16 rounded-lg bg-secondary shadow-sm flex items-center justify-center text-white text-xs">Secondary</div>
                                <div class="flex justify-between text-xs text-gray-500"><span>secondary</span><span>#4CAF50</span></div>
                            </div>
                            <div class="space-y-2">
                                <div class="h-16 rounded-lg bg-secondary-container shadow-sm flex items-center justify-center text-on-secondary-container text-xs">Container</div>
                                <div class="flex justify-between text-xs text-gray-500"><span>sec-container</span><span>#D1FAE5</span></div>
                            </div>
                        </div>
                    </div>

                    <!-- Tertiary & Error (Status) -->
                    <div class="mb-8">
                        <h4 class="text-xs font-semibold text-gray-500 mb-3">Accent & Status</h4>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <!-- Tertiary -->
                            <div class="space-y-2">
                                <div class="h-16 rounded-lg bg-tertiary shadow-sm flex items-center justify-center text-white text-xs">Tertiary</div>
                                <div class="flex justify-between text-xs text-gray-500"><span>tertiary</span><span>#F59E0B</span></div>
                            </div>
                            <div class="space-y-2">
                                <div class="h-16 rounded-lg bg-tertiary-container shadow-sm flex items-center justify-center text-on-tertiary-container text-xs">Container</div>
                                <div class="flex justify-between text-xs text-gray-500"><span>tert-container</span><span>#FEF3C7</span></div>
                            </div>

                            <!-- Error -->
                            <div class="space-y-2">
                                <div class="h-16 rounded-lg bg-error shadow-sm flex items-center justify-center text-white text-xs">Error</div>
                                <div class="flex justify-between text-xs text-gray-500"><span>error</span><span>#BA1A1A</span></div>
                            </div>
                            <div class="space-y-2">
                                <div class="h-16 rounded-lg bg-error-container shadow-sm flex items-center justify-center text-on-error-container text-xs">Container</div>
                                <div class="flex justify-between text-xs text-gray-500"><span>err-container</span><span>#FFDAD6</span></div>
                            </div>
                        </div>
                    </div>

                    <!-- Surface & Neutral -->
                    <div class="mb-6">
                        <h4 class="text-xs font-semibold text-gray-500 mb-3">Surface & Outline</h4>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <div class="space-y-2">
                                <div class="h-16 rounded-lg bg-surface shadow-sm border border-gray-200 flex items-center justify-center text-gray-500 text-xs">Surface</div>
                                <div class="flex justify-between text-xs text-gray-500"><span>surface</span><span>#FFFFFF</span></div>
                            </div>
                            <div class="space-y-2">
                                <div class="h-16 rounded-lg bg-surface-variant shadow-sm border border-gray-100 flex items-center justify-center text-gray-600 text-xs">Variant</div>
                                <div class="flex justify-between text-xs text-gray-500"><span>surface-variant</span><span>#F8F9FA</span></div>
                            </div>
                            <div class="space-y-2">
                                <div class="h-16 rounded-lg border-2 border-outline bg-transparent flex items-center justify-center text-gray-400 text-xs">Outline</div>
                                <div class="flex justify-between text-xs text-gray-500"><span>outline</span><span>#E5E7EB</span></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 2. TYPOGRAPHY (UPDATED: Font Family & H-Tags) -->
                <div>
                    <h3 class="text-sm font-bold text-gray-400 uppercase tracking-wider mb-6 border-b pb-2">2. Typography</h3>
                    
                    <!-- Font Info Block -->
                    <div class="mb-10 p-6 bg-surface-variant/50 rounded-xl border border-gray-200">
                        <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
                            <div>
                                <span class="text-xs text-gray-500 font-bold uppercase tracking-wider mb-1 block">Primary Font Family</span>
                                <h2 class="text-5xl font-bold text-primary mb-2">Prompt</h2>
                                <p class="text-gray-500 text-sm">Google Fonts (Thai & Latin)</p>
                            </div>
                            <div class="flex gap-4 text-center">
                                <div>
                                    <p class="text-3xl font-light text-primary">Aa</p>
                                    <span class="text-[10px] text-gray-400 uppercase">Light 300</span>
                                </div>
                                <div>
                                    <p class="text-3xl font-normal text-primary">Aa</p>
                                    <span class="text-[10px] text-gray-400 uppercase">Regular 400</span>
                                </div>
                                <div>
                                    <p class="text-3xl font-medium text-primary">Aa</p>
                                    <span class="text-[10px] text-gray-400 uppercase">Medium 500</span>
                                </div>
                                <div>
                                    <p class="text-3xl font-semibold text-primary">Aa</p>
                                    <span class="text-[10px] text-gray-400 uppercase">SemiBold 600</span>
                                </div>
                                <div>
                                    <p class="text-3xl font-bold text-primary">Aa</p>
                                    <span class="text-[10px] text-gray-400 uppercase">Bold 700</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="grid md:grid-cols-2 gap-12">
                        <!-- Headings Scale -->
                        <div class="space-y-8">
                            <h4 class="text-xs font-semibold text-gray-500 mb-2 uppercase">Heading Scale (H1-H6)</h4>
                            <div class="space-y-6">
                                <div class="border-b border-gray-100 pb-4">
                                    <p class="text-h1 text-primary">Heading 1</p>
                                    <p class="text-h1 text-primary">หัวข้อหลักขนาดใหญ่</p>
                                    <p class="text-xs text-gray-400 mt-2 font-mono bg-gray-50 inline-block px-2 py-1 rounded">text-h1 (48px / Bold)</p>
                                </div>
                                <div class="border-b border-gray-100 pb-4">
                                    <p class="text-h2 text-primary">Heading 2</p>
                                    <p class="text-h2 text-primary">หัวข้อรองประจำหน้า</p>
                                    <p class="text-xs text-gray-400 mt-2 font-mono bg-gray-50 inline-block px-2 py-1 rounded">text-h2 (36px / SemiBold)</p>
                                </div>
                                <div class="border-b border-gray-100 pb-4">
                                    <p class="text-h3 text-primary">Heading 3</p>
                                    <p class="text-h3 text-primary">ชื่อโครงการ/ทรัพย์สิน</p>
                                    <p class="text-xs text-gray-400 mt-2 font-mono bg-gray-50 inline-block px-2 py-1 rounded">text-h3 (30px / SemiBold)</p>
                                </div>
                                <div class="border-b border-gray-100 pb-4">
                                    <p class="text-h4 text-primary">Heading 4</p>
                                    <p class="text-h4 text-primary">หัวข้อย่อยเนื้อหา</p>
                                    <p class="text-xs text-gray-400 mt-2 font-mono bg-gray-50 inline-block px-2 py-1 rounded">text-h4 (24px / SemiBold)</p>
                                </div>
                                <div class="border-b border-gray-100 pb-4">
                                    <p class="text-h5 text-primary">Heading 5</p>
                                    <p class="text-h5 text-primary">หัวข้อในโมดูลเล็ก</p>
                                    <p class="text-xs text-gray-400 mt-2 font-mono bg-gray-50 inline-block px-2 py-1 rounded">text-h5 (20px / Medium)</p>
                                </div>
                                <div>
                                    <p class="text-h6 text-primary">Heading 6</p>
                                    <p class="text-h6 text-primary">หัวข้อย่อยที่สุด</p>
                                    <p class="text-xs text-gray-400 mt-2 font-mono bg-gray-50 inline-block px-2 py-1 rounded">text-h6 (18px / Medium)</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Body & Functional -->
                        <div class="space-y-8">
                            <div>
                                <h4 class="text-xs font-semibold text-gray-500 mb-4 uppercase">Body Text</h4>
                                <div class="space-y-6">
                                    <div class="p-4 bg-gray-50 rounded-lg">
                                        <p class="text-body-lg text-gray-800 mb-1">Body Large (18px)</p>
                                        <p class="text-body-lg text-gray-600 font-light">
                                            สัมผัสประสบการณ์การอยู่อาศัยที่เหนือระดับ รายล้อมด้วยธรรมชาติและการเดินทางที่สะดวกสบาย ตอบโจทย์ทุกไลฟ์สไตล์ของครอบครัวยุคใหม่
                                        </p>
                                        <p class="text-xs text-gray-400 mt-2 font-mono">text-body-lg</p>
                                    </div>
                                    <div class="p-4 bg-gray-50 rounded-lg">
                                        <p class="text-body-md text-gray-800 mb-1">Body Medium (16px) - Default</p>
                                        <p class="text-body-md text-gray-600 font-light">
                                            บ้านเดี่ยว 2 ชั้น พื้นที่ใช้สอย 180 ตร.ม. 3 ห้องนอน 3 ห้องน้ำ จอดรถ 2 คัน พร้อมคลับเฮ้าส์หรูและสวนสาธารณะขนาดใหญ่
                                        </p>
                                        <p class="text-xs text-gray-400 mt-2 font-mono">text-body-md</p>
                                    </div>
                                    <div class="p-4 bg-gray-50 rounded-lg">
                                        <p class="text-body-sm text-gray-800 mb-1">Body Small (14px)</p>
                                        <p class="text-body-sm text-gray-500 font-light">
                                            *เงื่อนไขเป็นไปตามที่บริษัทฯ กำหนด ราคาเริ่มต้นอาจมีการเปลี่ยนแปลงโดยไม่ต้องแจ้งให้ทราบล่วงหน้า
                                        </p>
                                        <p class="text-xs text-gray-400 mt-2 font-mono">text-body-sm</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 3. BORDER RADIUS -->
                <div>
                    <h3 class="text-sm font-bold text-gray-400 uppercase tracking-wider mb-4 border-b pb-2">3. Border Radius</h3>
                    <div class="flex flex-wrap gap-6 items-end">
                        <div class="text-center">
                            <div class="w-16 h-16 bg-gray-100 border border-gray-300 rounded-sm mb-2 mx-auto"></div>
                            <span class="text-xs font-mono text-gray-500">sm (8px)</span>
                        </div>
                        <div class="text-center">
                            <div class="w-16 h-16 bg-gray-100 border border-gray-300 rounded-md mb-2 mx-auto"></div>
                            <span class="text-xs font-mono text-gray-500">md (12px)</span>
                        </div>
                        <div class="text-center">
                            <div class="w-16 h-16 bg-gray-100 border border-gray-300 rounded-lg mb-2 mx-auto"></div>
                            <span class="text-xs font-mono text-gray-500">lg (16px)</span>
                        </div>
                        <div class="text-center">
                            <div class="w-16 h-16 bg-gray-100 border border-gray-300 rounded-xl mb-2 mx-auto"></div>
                            <span class="text-xs font-mono text-gray-500">xl (24px)</span>
                        </div>
                    </div>
                </div>

                <!-- 4. BOX SHADOWS -->
                <div>
                    <h3 class="text-sm font-bold text-gray-400 uppercase tracking-wider mb-4 border-b pb-2">4. Shadows</h3>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div class="bg-white p-8 rounded-lg shadow-icon border border-gray-50 flex flex-col items-center justify-center text-center gap-2">
                            <span class="text-sm font-mono text-primary font-semibold">shadow-icon</span>
                            <span class="text-xs text-gray-400 font-mono break-all">0 2px 8px rgba(0, 0, 0, 0.15)</span>
                        </div>
                        <div class="bg-white p-8 rounded-lg shadow-card border border-gray-50 flex flex-col items-center justify-center text-center gap-2">
                            <span class="text-sm font-mono text-primary font-semibold">shadow-card</span>
                            <span class="text-xs text-gray-400 font-mono break-all">0 4px 20px rgba(0, 0, 0, 0.08)</span>
                        </div>
                    </div>
                </div>

            </div>
        </section>


        <!-- === PART 2: COMPONENT VIEWER SCRIPT === -->
        
        <!-- 1. BUTTONS (STANDARD) -->
        <section class="mb-12 component-viewer" data-title="Buttons (Common Actions)">
            <div class="flex flex-wrap gap-4 items-center">
                <button class="bg-brand hover:bg-brand-dark text-white font-bold py-2.5 px-6 rounded-lg shadow-sm transition">
                    Primary
                </button>
                <button class="bg-primary hover:bg-slate-800 text-white font-medium py-2.5 px-6 rounded-lg shadow-sm transition">
                    Secondary
                </button>
                <button class="bg-transparent border border-gray-300 hover:border-brand text-gray-600 hover:text-brand font-medium py-2.5 px-6 rounded-lg transition">
                    Outline
                </button>
                <button class="bg-transparent hover:bg-gray-50 text-primary font-medium py-2.5 px-6 rounded-lg transition">
                    Text
                </button>
                <button disabled class="bg-gray-100 text-gray-400 font-medium py-2.5 px-6 rounded-lg cursor-not-allowed">
                    Disabled
                </button>
            </div>
        </section>

        <!-- 2. BUTTONS (M3 TYPES) - RESTORED -->
        <section class="mb-12 component-viewer" data-title="Buttons (M3 Standard Types)">
            <div class="flex flex-wrap gap-6 items-center">
                <!-- Elevated -->
                <button class="bg-surface text-primary shadow-md hover:shadow-lg hover:bg-surface-variant font-medium py-2.5 px-6 rounded-full transition text-sm">
                    Elevated
                </button>
                <!-- Filled -->
                <button class="bg-primary text-on-primary shadow-sm hover:shadow-md hover:opacity-90 font-medium py-2.5 px-6 rounded-full transition text-sm">
                    Filled
                </button>
                <!-- Filled Tonal -->
                <button class="bg-surface-variant text-primary hover:shadow-sm hover:brightness-95 font-medium py-2.5 px-6 rounded-full transition text-sm">
                    Filled Tonal
                </button>
                <!-- Outlined -->
                <button class="bg-transparent border border-gray-300 text-primary hover:bg-gray-50 font-medium py-2.5 px-6 rounded-full transition text-sm">
                    Outlined
                </button>
            </div>
        </section>

        <!-- 3. ICON BUTTONS -->
        <section class="mb-12 component-viewer" data-title="Icon Buttons & FABs">
            <div class="flex items-center gap-6">
                <!-- Circle Arrow -->
                <button class="w-10 h-10 rounded-full border border-gray-200 flex items-center justify-center text-gray-400 hover:border-brand hover:text-brand hover:bg-brand/5 transition">
                    <i data-lucide="arrow-right" class="w-5 h-5"></i>
                </button>
                <!-- Map FAB -->
                <button class="w-12 h-12 rounded-full bg-brand text-white flex items-center justify-center shadow-lg hover:bg-brand-dark transition">
                    <i data-lucide="map" class="w-6 h-6"></i>
                </button>
                <!-- Glass Overlay -->
                <button class="w-9 h-9 bg-black/30 backdrop-blur-sm rounded-lg flex items-center justify-center text-white hover:bg-brand transition">
                    <i data-lucide="heart" class="w-5 h-5"></i>
                </button>
            </div>
        </section>

        <!-- 4. CARDS (COMPLEX & SIMPLE) - RESTORED -->
        <section class="mb-12 component-viewer" data-title="Cards (Property & M3 Types)">
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 items-start">
                
                <!-- Main Property Card -->
                <article class="bg-white rounded-2xl shadow-card overflow-hidden group hover:shadow-2xl transition duration-300 relative w-full">
                    <div class="relative h-[200px] w-full">
                        <img src="https://images.unsplash.com/photo-1600596542815-e32c21325660?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" 
                             alt="Luxury House" class="w-full h-full object-cover">
                        <div class="absolute top-4 left-4 flex gap-2">
                            <span class="bg-tag-featured text-white text-[10px] font-bold px-3 py-1.5 rounded-md uppercase tracking-wide">Featured</span>
                        </div>
                        <div class="card-type-tab">
                            <span class="text-primary font-bold text-sm">บ้าน</span>
                        </div>
                    </div>
                    <div class="p-5 pt-2">
                        <h3 class="text-h5 text-primary mb-1 mt-2">บ้านหรูริมหาด</h3>
                        <p class="text-text-muted text-body-sm mb-4">วารินชำราบ, อุบลฯ</p>
                        <div class="flex justify-between items-center">
                            <span class="text-price-lg font-bold text-brand">฿12.5M</span>
                            <button class="w-8 h-8 rounded-full border border-gray-200 flex items-center justify-center"><i data-lucide="arrow-right" class="w-4 h-4"></i></button>
                        </div>
                    </div>
                </article>

                <!-- M3 Outlined Card -->
                <div class="bg-surface rounded-xl border border-gray-300 p-4 flex flex-col gap-4">
                    <div class="flex justify-between items-center">
                        <span class="text-sm font-semibold text-gray-500">Outlined Card</span>
                        <i data-lucide="more-vertical" class="w-5 h-5 text-gray-400"></i>
                    </div>
                    <div class="h-24 bg-gray-100 rounded-lg flex items-center justify-center text-xs text-gray-400">Content Placeholder</div>
                    <div class="text-sm text-gray-600">ใช้สำหรับเนื้อหาที่มีลำดับความสำคัญรองลงมา</div>
                </div>

                <!-- M3 Filled Card -->
                <div class="bg-surface-variant rounded-xl p-4 flex flex-col gap-4 border border-transparent">
                    <div class="flex justify-between items-center">
                        <span class="text-sm font-semibold text-gray-500">Filled Card</span>
                        <i data-lucide="star" class="w-5 h-5 text-gray-400"></i>
                    </div>
                    <div class="h-24 bg-white/50 rounded-lg flex items-center justify-center text-xs text-gray-400">Content Placeholder</div>
                    <div class="text-sm text-gray-600">ใช้สำหรับเนื้อหาที่ต้องการแยกส่วนอย่างนุ่มนวล</div>
                </div>

            </div>
        </section>

        <!-- 5. BADGES & NOTIFICATIONS -->
        <section class="mb-12 component-viewer" data-title="Badges & Notifications">
            <div class="flex flex-col gap-6">
                <!-- Status -->
                <div class="flex flex-wrap gap-2">
                    <span class="bg-tag-featured text-white text-[10px] font-bold px-3 py-1.5 rounded-md uppercase tracking-wide">Featured</span>
                    <span class="bg-tag-sale text-white text-[10px] font-bold px-3 py-1.5 rounded-md uppercase tracking-wide">For Sale</span>
                    <span class="border border-brand text-brand text-[10px] font-bold px-3 py-1.5 rounded-md uppercase tracking-wide">Verified</span>
                </div>
                <!-- Notifications (M3) -->
                <div class="flex items-center gap-8">
                    <!-- Small Dot -->
                    <div class="relative inline-block cursor-pointer">
                        <i data-lucide="bell" class="w-6 h-6 text-gray-400"></i>
                        <span class="absolute top-0 right-0 block h-2.5 w-2.5 rounded-full ring-2 ring-white bg-red-500"></span>
                    </div>
                    <!-- Large Number -->
                    <div class="relative inline-block cursor-pointer">
                        <i data-lucide="mail" class="w-6 h-6 text-gray-400"></i>
                        <span class="absolute -top-1.5 -right-1.5 inline-flex items-center justify-center min-w-[18px] h-[18px] px-1 text-[10px] font-bold text-white bg-red-500 rounded-full border border-white">3</span>
                    </div>
                     <!-- Large Number (99+) -->
                     <div class="relative inline-block cursor-pointer">
                        <i data-lucide="shopping-bag" class="w-6 h-6 text-gray-400"></i>
                        <span class="absolute -top-1.5 -right-1.5 inline-flex items-center justify-center min-w-[20px] h-[18px] px-1 text-[10px] font-bold text-white bg-red-500 rounded-full border border-white">99+</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- 6. INPUTS, CHIPS & CHECKBOXES - RESTORED -->
        <section class="mb-12 component-viewer" data-title="Selection & Inputs">
            <div class="grid md:grid-cols-2 gap-8">
                <!-- Inputs & Checkboxes -->
                <div class="space-y-6">
                    <!-- Text Input -->
                    <div class="relative">
                        <label class="block text-xs text-gray-400 mb-1">ทำเล / ชื่อโครงการ</label>
                        <div class="flex items-center gap-2 border border-gray-200 rounded-lg px-3 py-2.5 hover:border-brand transition bg-white">
                            <i data-lucide="map-pin" class="w-5 h-5 text-brand"></i>
                            <input type="text" placeholder="พิมพ์ทำเล..." class="w-full bg-transparent focus:outline-none text-body-sm text-primary">
                        </div>
                    </div>
                    <!-- Checkboxes -->
                    <div class="flex gap-4">
                        <label class="flex items-center gap-2 cursor-pointer">
                            <div class="w-5 h-5 bg-primary border-2 border-primary rounded-sm flex items-center justify-center text-white">
                                <i data-lucide="check" class="w-3.5 h-3.5"></i>
                            </div>
                            <span class="text-sm">Checked</span>
                        </label>
                         <label class="flex items-center gap-2 cursor-pointer">
                            <div class="w-5 h-5 border-2 border-gray-400 rounded-sm"></div>
                            <span class="text-sm">Unchecked</span>
                        </label>
                         <label class="flex items-center gap-2 cursor-pointer">
                            <div class="w-5 h-5 bg-primary border-2 border-primary rounded-sm flex items-center justify-center text-white">
                                <div class="w-3 h-0.5 bg-white"></div>
                            </div>
                            <span class="text-sm">Indeterminate</span>
                        </label>
                    </div>
                </div>
                <!-- Chips -->
                <div class="flex flex-wrap gap-2 content-start">
                    <button class="flex items-center gap-2 px-3 py-1.5 rounded-lg bg-surface-variant text-primary text-sm font-medium border border-transparent hover:bg-gray-200">
                        <i data-lucide="check" class="w-4 h-4"></i>
                        <span>ใกล้รถไฟฟ้า</span>
                    </button>
                    <button class="flex items-center gap-2 px-3 py-1.5 rounded-lg border border-gray-300 text-gray-600 text-sm font-medium hover:bg-gray-50">
                        <span>ราคาพิเศษ</span>
                    </button>
                    <div class="flex items-center gap-2 px-2 pl-3 py-1.5 rounded-lg border border-gray-300 bg-white text-sm font-medium text-gray-800">
                        <span>กรุงเทพฯ</span>
                        <button class="hover:bg-gray-200 rounded-full p-0.5 text-gray-500"><i data-lucide="x" class="w-3 h-3"></i></button>
                    </div>
                </div>
            </div>
        </section>

        <!-- 7. DATE & TIME PICKERS - RESTORED -->
        <section class="mb-12 component-viewer" data-title="Pickers">
            <div class="grid md:grid-cols-2 gap-8 items-start">
                 <!-- Date Picker (Visual) -->
                 <div class="bg-white p-4 rounded-xl border border-gray-200 shadow-sm max-w-xs">
                    <div class="text-xs text-gray-500 mb-2 font-medium">Select Date</div>
                    <div class="flex justify-between items-center mb-4">
                        <button class="p-1 hover:bg-gray-100 rounded"><i data-lucide="chevron-left" class="w-5 h-5 text-gray-600"></i></button>
                        <span class="text-sm font-bold text-primary">Dec 2025</span>
                        <button class="p-1 hover:bg-gray-100 rounded"><i data-lucide="chevron-right" class="w-5 h-5 text-gray-600"></i></button>
                    </div>
                    <div class="grid grid-cols-7 gap-1 text-center text-xs mb-2 text-gray-400">
                        <span>S</span><span>M</span><span>T</span><span>W</span><span>T</span><span>F</span><span>S</span>
                    </div>
                    <div class="grid grid-cols-7 gap-1 text-center text-sm">
                        <span class="p-2 bg-primary text-white rounded-full cursor-pointer">3</span>
                        <span class="p-2 hover:bg-gray-100 rounded-full cursor-pointer">4</span>
                        <span class="p-2 hover:bg-gray-100 rounded-full cursor-pointer">5</span>
                    </div>
                </div>
                <!-- Time Input -->
                <div class="bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex flex-col items-center">
                    <div class="text-xs text-gray-500 mb-4 font-medium w-full">Enter Time</div>
                    <div class="flex items-center gap-2">
                        <div class="bg-primary/10 border-2 border-primary rounded-lg p-2 text-center w-16">
                            <span class="text-xl font-bold text-primary">10</span>
                        </div>
                        <span class="text-xl font-bold text-gray-400">:</span>
                        <div class="bg-gray-50 border border-gray-200 rounded-lg p-2 text-center w-16">
                            <span class="text-xl font-bold text-gray-700">30</span>
                        </div>
                        <div class="flex flex-col gap-1 ml-2">
                            <button class="px-2 py-0.5 bg-secondary-container text-primary text-[10px] font-bold rounded">AM</button>
                            <button class="px-2 py-0.5 hover:bg-gray-50 text-gray-500 text-[10px] font-bold rounded">PM</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 8. LISTS & DIVIDERS (EXPANDED with 3-Line & Inset Divider) -->
        <section class="mb-12 component-viewer" data-title="Lists & Dividers (M3)">
            <div class="grid md:grid-cols-2 gap-8 items-start">
                
                <!-- Lists -->
                <div class="bg-white rounded-xl border border-gray-200 overflow-hidden">
                    <!-- 1 Line -->
                    <div class="flex items-center justify-between p-4 hover:bg-gray-50 cursor-pointer border-b border-gray-100">
                        <span class="text-sm text-gray-700">Single Line Item</span>
                        <i data-lucide="chevron-right" class="w-4 h-4 text-gray-400"></i>
                    </div>
                    <!-- 2 Line -->
                    <div class="flex items-center gap-4 p-4 hover:bg-gray-50 cursor-pointer border-b border-gray-100">
                        <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary">
                            <i data-lucide="home" class="w-5 h-5"></i>
                        </div>
                        <div class="flex-1">
                            <h5 class="text-sm font-medium text-gray-900">Two Line Item</h5>
                            <p class="text-xs text-gray-500">Secondary text description</p>
                        </div>
                    </div>
                    <!-- 3 Line (Added) -->
                    <div class="flex items-start gap-4 p-4 hover:bg-gray-50 cursor-pointer">
                        <div class="w-16 h-16 rounded-lg bg-gray-200 overflow-hidden flex-shrink-0">
                            <img src="https://images.unsplash.com/photo-1512917774080-9991f1c4c750?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80" class="w-full h-full object-cover">
                        </div>
                        <div class="flex-1">
                            <h5 class="text-sm font-bold text-gray-900">Three Line Item</h5>
                            <p class="text-xs text-gray-600 line-clamp-2 mt-1">รายละเอียดเพิ่มเติมที่ยาวกว่าปกติ เพื่อแสดงความสามารถในการรองรับเนื้อหา 3 บรรทัด</p>
                        </div>
                        <div class="flex flex-col items-end gap-2">
                            <span class="text-[10px] text-gray-400">Now</span>
                            <i data-lucide="star" class="w-4 h-4 text-gray-400"></i>
                        </div>
                    </div>
                </div>

                <!-- Dividers (Added Variants) -->
                <div class="bg-white p-6 rounded-xl border border-gray-200 space-y-6">
                    <div>
                        <span class="text-[10px] text-gray-400 uppercase font-bold tracking-wide">Full Width</span>
                        <hr class="border-gray-200 mt-2">
                    </div>
                    <div>
                        <span class="text-[10px] text-gray-400 uppercase font-bold tracking-wide">Inset (Leading 16px)</span>
                        <div class="pl-4"><hr class="border-gray-200 mt-2"></div>
                    </div>
                    <div>
                        <span class="text-[10px] text-gray-400 uppercase font-bold tracking-wide">Middle Text</span>
                        <div class="flex items-center gap-4 mt-2">
                            <div class="h-px bg-gray-200 flex-1"></div>
                            <span class="text-xs text-gray-400">OR</span>
                            <div class="h-px bg-gray-200 flex-1"></div>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <!-- 9. MENUS (ADDED) -->
        <section class="mb-12 component-viewer" data-title="Menus (Dropdowns)">
            <div class="flex justify-center bg-gray-50 p-12 rounded-xl border border-gray-200 h-64 relative">
                 <div class="relative inline-block text-left">
                    <button class="flex items-center gap-2 bg-white border border-gray-200 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-50 shadow-sm text-gray-700">
                        Options <i data-lucide="chevron-down" class="w-4 h-4 text-gray-400"></i>
                    </button>
                    <!-- Dropdown Panel -->
                    <div class="absolute mt-2 w-56 bg-white rounded-lg shadow-xl ring-1 ring-black ring-opacity-5 z-10 p-1">
                        <a href="#" class="flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md">
                            <i data-lucide="edit-2" class="w-4 h-4 text-gray-400"></i> Edit
                        </a>
                        <a href="#" class="flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md">
                            <i data-lucide="copy" class="w-4 h-4 text-gray-400"></i> Duplicate
                        </a>
                        <hr class="my-1 border-gray-100">
                        <a href="#" class="flex items-center gap-3 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md">
                            <i data-lucide="trash-2" class="w-4 h-4 text-red-500"></i> Delete
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- 10. FEEDBACK: LOADING, PROGRESS, DIALOGS (IMPROVED) -->
        <section class="mb-12 component-viewer" data-title="Feedback & Overlays">
            <div class="grid md:grid-cols-2 gap-8">
                <!-- Progress -->
                <div class="space-y-4 bg-white p-6 rounded-xl border border-gray-200">
                    <h4 class="text-xs text-gray-400 font-mono">Progress Indicators</h4>
                    <div class="flex items-center gap-6">
                        <svg class="animate-spin h-8 w-8 text-primary" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                        </svg>
                        <div class="w-full bg-gray-100 rounded-full h-1 overflow-hidden relative">
                            <div class="bg-primary h-1 rounded-full absolute left-0 w-1/3 animate-[pulse_2s_infinite]"></div>
                        </div>
                    </div>
                </div>
                <!-- Dialog (M3 Style with Icon) -->
                <div class="bg-gray-900/10 p-4 rounded-xl flex items-center justify-center">
                    <div class="bg-surface-variant rounded-[28px] p-6 w-full max-w-[280px] shadow-xl flex flex-col items-center text-center">
                        <i data-lucide="alert-circle" class="w-6 h-6 text-primary mb-4"></i>
                        <h4 class="text-h5 font-medium mb-2">ยืนยันการลบ?</h4>
                        <p class="text-body-sm text-gray-500 mb-6">ข้อมูลที่ลบไปแล้วจะไม่สามารถกู้คืนได้ คุณต้องการดำเนินการต่อหรือไม่</p>
                        <div class="flex justify-end gap-2 w-full">
                            <button class="text-primary text-sm font-medium px-4 py-2 hover:bg-black/5 rounded-full transition">ยกเลิก</button>
                            <button class="text-red-600 text-sm font-medium px-4 py-2 hover:bg-red-50 rounded-full transition">ลบข้อมูล</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 11. APP BARS (FULL SET) - RESTORED -->
        <section class="mb-12 component-viewer" data-title="Top App Bars (M3 Variants)">
             <div class="grid md:grid-cols-2 gap-6">
                <!-- 1. Center (Root) -->
                <div class="bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden relative h-32">
                    <div class="h-14 px-4 flex items-center justify-between bg-white text-primary border-b border-gray-100">
                        <i data-lucide="menu" class="w-5 h-5 text-gray-600"></i>
                        <span class="text-h5 font-medium tracking-tight">RealEstate</span>
                        <div class="w-8 h-8 rounded-full bg-gray-200"></div>
                    </div>
                    <span class="absolute bottom-2 left-2 text-[10px] text-gray-400 font-mono">Center Aligned</span>
                </div>
                <!-- 2. Small (Detail) -->
                <div class="bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden relative h-32">
                    <div class="h-14 px-4 flex items-center gap-4 bg-white text-primary border-b border-gray-100">
                        <i data-lucide="arrow-left" class="w-5 h-5 text-gray-600"></i>
                        <h5 class="text-h5 font-medium truncate flex-1">รายละเอียด</h5>
                        <i data-lucide="share-2" class="w-5 h-5 text-gray-600"></i>
                    </div>
                     <span class="absolute bottom-2 left-2 text-[10px] text-gray-400 font-mono">Small</span>
                </div>
                <!-- 3. Medium -->
                <div class="bg-surface-variant rounded-lg shadow-sm border border-gray-100 overflow-hidden relative h-40">
                    <div class="h-28 flex flex-col justify-between p-4 pb-2 bg-white text-primary">
                        <div class="flex justify-between"><i data-lucide="arrow-left" class="w-5 h-5"></i><i data-lucide="more-vertical" class="w-5 h-5"></i></div>
                        <h4 class="text-lg font-medium">ตารางนัดหมาย</h4>
                    </div>
                    <span class="absolute bottom-2 left-2 text-[10px] text-gray-400 font-mono">Medium</span>
                </div>
                <!-- 4. Large -->
                <div class="bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden relative h-48">
                    <div class="h-36 flex flex-col justify-between p-4 pb-4 bg-white text-primary">
                        <div class="flex justify-between"><i data-lucide="menu" class="w-5 h-5"></i><div class="w-8 h-8 rounded-full bg-gray-200"></div></div>
                        <h2 class="text-2xl font-medium">โครงการ<br>แนะนำ</h2>
                    </div>
                    <span class="absolute bottom-2 left-2 text-[10px] text-gray-400 font-mono">Large</span>
                </div>
             </div>
        </section>

        <!-- 12. PAGE LAYOUTS (NAVBAR, HERO, FOOTER) - RESTORED -->
        <section class="mb-12 component-viewer" data-title="Page Layout Components">
            
            <!-- Navbar -->
            <div class="mb-8 border border-gray-200 rounded-xl overflow-hidden shadow-sm">
                <nav class="bg-white px-6 py-4 flex items-center justify-between">
                    <div class="flex items-center gap-2">
                        <div class="w-10 h-10 bg-brand rounded-lg flex items-center justify-center text-white"><i data-lucide="home" class="w-6 h-6"></i></div>
                        <span class="text-h4 text-primary tracking-tight">RealEstate<span class="text-brand">.</span></span>
                    </div>
                    <div class="hidden md:flex items-center gap-8">
                        <a href="#" class="text-body-sm font-medium text-primary hover:text-brand">หน้าแรก</a>
                        <a href="#" class="text-body-sm font-medium text-gray-500 hover:text-primary">ซื้อ</a>
                        <a href="#" class="text-body-sm font-medium text-gray-500 hover:text-primary">เช่า</a>
                    </div>
                    <div class="flex items-center gap-3">
                        <button class="w-10 h-10 rounded-full hover:bg-gray-100 flex items-center justify-center text-gray-600"><i data-lucide="search" class="w-5 h-5"></i></button>
                        <button class="bg-primary text-white px-5 py-2.5 rounded-lg text-body-sm font-medium shadow-md">ลงประกาศฟรี</button>
                    </div>
                </nav>
            </div>

            <!-- Hero Section -->
            <div class="mb-8 border border-gray-200 rounded-xl overflow-hidden shadow-sm relative h-[400px] flex items-center justify-center bg-primary">
                <img src="https://images.unsplash.com/photo-1564013799919-ab600027ffc6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80" class="absolute inset-0 w-full h-full object-cover opacity-40">
                <div class="relative z-10 w-full max-w-2xl text-center px-4">
                    <h1 class="text-h2 md:text-h1 text-white mb-4 drop-shadow-lg">ค้นหาบ้านในฝัน</h1>
                    <div class="bg-white p-4 rounded-2xl shadow-xl text-left">
                        <div class="flex gap-4 mb-4 border-b border-gray-100 pb-2">
                            <button class="text-brand font-bold border-b-2 border-brand pb-2 text-sm">ซื้อ</button>
                            <button class="text-gray-400 font-medium pb-2 text-sm">เช่า</button>
                        </div>
                        <div class="flex gap-2">
                            <div class="flex-1 flex items-center gap-2 border border-gray-200 rounded-lg px-3 py-2 bg-gray-50">
                                <i data-lucide="map-pin" class="w-5 h-5 text-brand"></i>
                                <input type="text" placeholder="ทำเล..." class="w-full bg-transparent outline-none text-sm">
                            </div>
                            <button class="bg-brand text-white px-6 py-2 rounded-lg font-bold">ค้นหา</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="border border-gray-200 rounded-xl overflow-hidden shadow-sm bg-primary text-white p-8">
                <div class="grid md:grid-cols-4 gap-8 mb-8">
                    <div class="col-span-1 md:col-span-2">
                        <div class="flex items-center gap-2 mb-4">
                            <div class="w-8 h-8 bg-brand rounded flex items-center justify-center"><i data-lucide="home" class="w-5 h-5"></i></div>
                            <span class="text-h5 font-bold">RealEstate.</span>
                        </div>
                        <p class="text-body-sm text-gray-400">แพลตฟอร์มที่รวบรวมอสังหาริมทรัพย์ที่ดีที่สุด</p>
                    </div>
                    <div>
                        <h4 class="font-bold mb-4">เมนูลัด</h4>
                        <ul class="space-y-2 text-sm text-gray-400"><li>หน้าแรก</li><li>ซื้อบ้าน</li></ul>
                    </div>
                    <div>
                        <h4 class="font-bold mb-4">ติดต่อเรา</h4>
                        <ul class="space-y-2 text-sm text-gray-400"><li>02-123-4567</li><li>contact@realestate.com</li></ul>
                    </div>
                </div>
                <div class="border-t border-gray-700 pt-6 text-xs text-gray-500 flex justify-between">
                    <p>&copy; 2024 RealEstate. All rights reserved.</p>
                </div>
            </div>

        </section>

    </div>

    <!-- MAIN SCRIPT FOR INTERACTIVE VIEWER -->
    <script>
        lucide.createIcons();

        // Initialize Component Viewers
        document.addEventListener('DOMContentLoaded', () => {
            const viewers = document.querySelectorAll('.component-viewer');
            
            viewers.forEach(section => {
                const title = section.getAttribute('data-title') || 'Component';
                const originalContent = section.innerHTML;
                const formattedCode = formatHTML(originalContent);

                const wrapper = document.createElement('div');
                wrapper.className = 'bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm';
                
                wrapper.innerHTML = `
                    <div class="bg-gray-50 border-b border-gray-200 px-6 py-4 flex flex-col sm:flex-row justify-between items-center gap-4">
                        <h3 class="text-lg font-bold text-gray-700 flex items-center gap-2">
                            <i data-lucide="component" class="w-5 h-5 text-gray-400"></i> ${title}
                        </h3>
                        <div class="view-toggle">
                            <button class="active" onclick="toggleView(this, 'preview')">
                                <i data-lucide="check" class="w-4 h-4"></i> แสดงตัวอย่าง
                            </button>
                            <button onclick="toggleView(this, 'code')">
                                <i data-lucide="code" class="w-4 h-4"></i> โค้ด
                            </button>
                        </div>
                    </div>
                    <div class="p-8 bg-gray-50/50">
                        <div class="preview-area flex justify-center items-center w-full overflow-x-auto">
                            <div class="w-full">
                                ${originalContent}
                            </div>
                        </div>
                        <div class="code-block hidden">
                            ${escapeHTML(formattedCode)}
                        </div>
                    </div>
                `;
                
                section.innerHTML = '';
                section.appendChild(wrapper);
            });
            
            lucide.createIcons();
        });

        window.toggleView = function(btn, mode) {
            const container = btn.closest('.component-viewer');
            const toggleButtons = container.querySelectorAll('.view-toggle button');
            const previewArea = container.querySelector('.preview-area');
            const codeBlock = container.querySelector('.code-block');

            toggleButtons.forEach(b => b.classList.remove('active'));
            btn.classList.add('active');

            if (mode === 'preview') {
                previewArea.classList.remove('hidden');
                codeBlock.classList.remove('active');
            } else {
                previewArea.classList.add('hidden');
                codeBlock.classList.add('active');
            }
        };

        function escapeHTML(str) {
            return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;').replace(/'/g, '&#039;');
        }

        function formatHTML(html) {
            let formatted = '';
            let indent = 0;
            const tab = '  '; 
            html.split(/>\s*</).forEach(function(element) {
                if (element.match(/^\/\w/)) { indent--; }
                formatted += new Array(indent + 1).join(tab) + '<' + element + '>\r\n';
                if (element.match(/^<?\w[^>]*[^\/]$/) && !element.startsWith("input") && !element.startsWith("img") && !element.startsWith("hr") && !element.startsWith("br") && !element.startsWith("i ")) { 
                    indent++;
                }
            });
            return formatted.substring(1, formatted.length-3);
        }
    </script>
</body>
</html>